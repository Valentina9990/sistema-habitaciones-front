<div class="login-container">
  <p-toast></p-toast>

  <p-card header="Iniciar Sesión" styleClass="login-card">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <div class="form-field">
        <label for="email">Email</label>
        <span class="p-input-icon-left w-full">
          <i class="pi pi-envelope"></i>
          <input
            id="email"
            type="email"
            pInputText
            formControlName="email"
            placeholder="ejemplo@correo.com"
            class="w-full"
          />
        </span>

        <small
          *ngIf="
            loginForm.get('email')?.invalid && loginForm.get('email')?.touched
          "
          class="p-error"
        >
          <span *ngIf="loginForm.get('email')?.hasError('required')"
            >Email es requerido</span
          >
          <span *ngIf="loginForm.get('email')?.hasError('email')"
            >Ingrese un email válido</span
          >
        </small>
      </div>

      <div class="form-field">
        <label for="password">Contraseña</label>
        <p-password
          id="password"
          formControlName="password"
          [toggleMask]="true"
          [feedback]="false"
          styleClass="w-full"
          placeholder="Ingrese su contraseña"
        ></p-password>

        <small
          *ngIf="
            loginForm.get('password')?.invalid &&
            loginForm.get('password')?.touched
          "
          class="p-error"
        >
          <span *ngIf="loginForm.get('password')?.hasError('required')"
            >Contraseña es requerida</span
          >
          <span *ngIf="loginForm.get('password')?.hasError('minlength')"
            >La contraseña debe tener al menos 6 caracteres</span
          >
        </small>
      </div>

      <div class="form-actions">
        <p-button
          type="submit"
          label="Iniciar Sesión"
          [loading]="loading"
          styleClass="w-full"
        ></p-button>
      </div>

      <div class="auth-links">
        <a routerLink="/registro">¿No tienes cuenta? Regístrate</a>
        <a routerLink="/recuperar-password">¿Olvidaste tu contraseña?</a>
      </div>
    </form>
  </p-card>
</div>
