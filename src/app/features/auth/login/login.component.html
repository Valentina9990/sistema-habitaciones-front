<p-toast></p-toast>

<p-card header="Iniciar sesión" styleClass="w-10 mx-auto mt-5">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="p-fluid">

      <div class="field mb-3">
        <label for="email">Correo electrónico</label>
        <input
          id="email"
          type="email"
          pInputText
          formControlName="email"
          [class.ng-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
        />
        <small *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid" class="p-error">
          Ingresa un correo válido.
        </small>
      </div>

      <div class="field mb-3">
        <label for="password">Contraseña</label>
        <p-password
          id="password"
          formControlName="password"
          [feedback]="false"
          toggleMask="true"
          [class.ng-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        ></p-password>
        <small *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid" class="p-error">
          La contraseña debe tener al menos 6 caracteres.
        </small>
      </div>

      <div class="field mt-4">
        <button type="submit" pButton label="Iniciar sesión" [disabled]="loading"></button>
      </div>

      <div *ngIf="loading" class="text-center mt-3">
        <p-progressSpinner styleClass="w-3rem h-3rem"></p-progressSpinner>
      </div>

    </div>
  </form>
</p-card>
